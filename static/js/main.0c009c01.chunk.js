(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,n){t.exports={list:"NotesList_list__3-vpX",tag:"NotesList_tag__nGKBJ",tagSelected:"NotesList_tagSelected__1xmFJ",title:"NotesList_title__mX88b",date:"NotesList_date__1xsEZ"}},2:function(t,e,n){t.exports={main:"Note_main__2giOS",notesList:"Note_notesList__2sPct",noteEditor:"Note_noteEditor__2ywwK",buttonBar:"Note_buttonBar__2bsrO",menu:"Note_menu__3SbA8",date:"Note_date__1uhkv",noteTitleContainer:"Note_noteTitleContainer__1Gm-p",noteContentContainer:"Note_noteContentContainer__1VcSO",noteContentContainerEditMode:"Note_noteContentContainerEditMode__1Hp9Z",title:"Note_title__NSW3N",content:"Note_content__1ynvP",button:"Note_button__gjpQA",buttonNew:"Note_buttonNew__dcjTB",buttonAlert:"Note_buttonAlert__26xVZ"}},27:function(t,e,n){t.exports={box:"TextBox_box__2l3mD"}},28:function(t,e,n){t.exports={box:"TextArea_box__3BeXH"}},31:function(t,e,n){},33:function(t,e,n){t.exports=n(52)},38:function(t,e,n){},52:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(24),s=n.n(i),r=(n(38),n(7)),c=n(8),l=n(10),u=n(9),d=n(11),h=n(13),m=n(56),p=n(58),v=n(54),f=n(55),N=n(19),b=n(32),g=n(15),E=function(t,e,n){var a;return function(){var o=this,i=arguments,s=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||t.apply(o,i)},e||250),s&&t.apply(o,i)}},_=function(t,e){return new Date(e.date)-new Date(t.date)},O=function(t){var e=Object(b.a)({},t);return""===e.title&&(e.title="Add A Title"),e.date=(new Date).toISOString(),e},C=Object(g.b)({notes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_NOTES":return Object(N.a)(e.notes).sort(_);case"CLEAR_NOTES":return[];case"ADD_NOTE":return Object(N.a)(t).concat([O(e.note)]).sort(_);case"UPDATE_NOTE":return t.filter(function(t){return t.id===e.note.id}).length>0?t.map(function(t){return t.id===e.note.id?O(e.note):t}).sort(_):Object(N.a)(t).concat([O(e.note)]).sort(_);case"REMOVE_NOTE":return t.filter(function(t){return t.id!==e.id}).sort(_);default:return t}}}),S=function(t){try{var e=localStorage.getItem(t);if(null===e)return;return JSON.parse(e)}catch(n){return}}("astrosat-notes-app");console.log("PERSISTED STATE FROM LOCAL STORAGE:"),console.log(S);var w=Object(g.c)(C,S);w.subscribe(E(function(){console.log("SAVE STATE"),console.log(w.getState().notes),function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.log(n)}}("astrosat-notes-app",{notes:w.getState().notes})}));var j=w,y=n(6),T=n(27),A=n.n(T),k=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={value:void 0!==n.props.value?n.props.value:""},n.handleChange=n.handleChange.bind(Object(y.a)(Object(y.a)(n))),n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t,e){t.value!==this.props.value&&this.setState({value:this.props.value})}},{key:"handleChange",value:function(t){var e=this;this.setState({value:t.target.value},function(){return e.props.onChange(e.state.value)})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:A.a.box,type:"text",charSet:"utf-8",value:this.state.value,onChange:this.handleChange}))}}]),e}(a.Component),x=n(28),D=n.n(x),L=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={value:void 0!==n.props.value?n.props.value:""},n.handleChange=n.handleChange.bind(Object(y.a)(Object(y.a)(n))),n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t,e){t.value!==this.props.value&&this.setState({value:this.props.value})}},{key:"handleChange",value:function(t){var e=this;this.setState({value:t.target.value},function(){return e.props.onChange(e.state.value)})}},{key:"render",value:function(){return o.a.createElement("textarea",{className:D.a.box,charSet:"utf-8",value:this.state.value,onChange:this.handleChange})}}]),e}(a.Component),M=n(53),I=n(29),B=n.n(I),P=function(t){return B()(new Date(t).toISOString())},J=n(14),R=n.n(J),U=Object(h.b)(function(t){return{notes:t.notes}})(function(t){var e=t.notes.map(function(e){var n=e.id===t.selectedId?"".concat(R.a.tag," ").concat(R.a.tagSelected):"".concat(R.a.tag);return o.a.createElement(M.a,{key:e.id,className:n,to:"/".concat(e.id),title:"Click to view ".concat(e.title)},o.a.createElement("div",{className:R.a.title},e.title),o.a.createElement("div",{className:R.a.date},"Last Updated: ",P(e.date).fromNow()))});return e.length>0?o.a.createElement("div",{className:R.a.list},e):null}),V=n(57),H=n(2),F=n.n(H),G=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={showNotesList:!1,changesMade:!1,mode:t.mode?t.mode:"view",id:t.id,date:(new Date).toISOString(),title:"Add A Title",content:"Add Some Content"},n.onTitleChange=n.onTitleChange.bind(Object(y.a)(Object(y.a)(n))),n.onContentChange=n.onContentChange.bind(Object(y.a)(Object(y.a)(n))),n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.onNoteIdChange()}},{key:"componentDidUpdate",value:function(t,e){t.id!==this.props.id&&this.onNoteIdChange()}},{key:"onNoteIdChange",value:function(){var t=this,e={id:Math.floor(65536*(1+Math.random())).toString(16).substring(1),title:"Add A Title",content:"Add Some Content",date:(new Date).toISOString()},n=this.props.notes.filter(function(e){return e.id===t.props.id});n.length>0&&(e=n[0]),this.setState({id:e.id,title:e.title,content:e.content,date:e.date})}},{key:"onTitleChange",value:function(t){this.setState({changesMade:!0,title:t})}},{key:"onContentChange",value:function(t){this.setState({changesMade:!0,content:t})}},{key:"onSaveBtnPressed",value:function(){var t=this,e={id:this.state.id,title:this.state.title,content:this.state.content};this.setState({changesMade:!1},function(){return t.props.updateNote(e)})}},{key:"onDeleteBtnPressed",value:function(){!0===window.confirm("Are you sure you want to delete this note?")&&(this.props.removeNote(this.state.id),this.props.history.push("/"))}},{key:"toggleNotesList",value:function(){this.setState({showNotesList:!this.state.showNotesList})}},{key:"render",value:function(){var t=this,e=!0===this.state.changesMade?"".concat(F.a.button," ").concat(F.a.buttonAlert):"".concat(F.a.button),n="edit"===this.props.mode?"".concat(F.a.noteContentContainer," ").concat(F.a.noteContentContainerEditMode):"".concat(F.a.noteContentContainer);return o.a.createElement("div",{className:F.a.main},o.a.createElement("div",{className:F.a.notesList},o.a.createElement(U,{notes:this.props.notes,selectedId:this.state.id})),o.a.createElement("div",{className:F.a.noteEditor},o.a.createElement("div",{className:F.a.menu},o.a.createElement(M.a,{className:"".concat(F.a.button," ").concat(F.a.buttonNew),to:"/new",title:"Add A New Note"},o.a.createElement("i",{className:"fas fa-plus"}),"\xa0\xa0New Note"),"view"===this.props.mode?o.a.createElement(M.a,{className:F.a.button,to:"/".concat(this.state.id,"/edit"),title:"Edit Note"},o.a.createElement("i",{className:"fas fa-edit"}),"\xa0\xa0Edit"):null,"view"===this.props.mode?o.a.createElement("div",{className:F.a.button,onClick:function(){return t.onDeleteBtnPressed()},title:"Delete Note"},o.a.createElement("i",{className:"fas fa-trash"}),"\xa0\xa0Delete"):null,"edit"===this.props.mode?o.a.createElement("div",{className:e,onClick:function(){return t.onSaveBtnPressed()},title:"Save Note"},o.a.createElement("i",{className:"fas fa-save"}),"\xa0\xa0Save"):null,o.a.createElement("div",{className:F.a.button,onClick:function(){return t.toggleNotesList()},title:"Toggle Notes List"},o.a.createElement("i",{className:"fas fa-bars"}))),o.a.createElement("div",{className:F.a.date},P(this.state.date).format("llll")),o.a.createElement("div",{className:F.a.noteTitleContainer},"edit"===this.props.mode?o.a.createElement(k,{onChange:this.onTitleChange,value:this.state.title}):o.a.createElement("div",{className:F.a.title,dangerouslySetInnerHTML:{__html:this.state.title}})),o.a.createElement("div",{className:n},"edit"===this.props.mode?o.a.createElement(L,{onChange:this.onContentChange,value:this.state.content}):o.a.createElement("div",{className:F.a.content,dangerouslySetInnerHTML:{__html:this.state.content}}))))}}]),e}(a.Component),W=Object(h.b)(function(t){return{notes:t.notes}},function(t){return{addNote:function(e){return t(function(t){return{type:"ADD_NOTE",note:t}}(e))},updateNote:function(e){return t(function(t){return{type:"UPDATE_NOTE",note:t}}(e))},removeNote:function(e){return t(function(t){return{type:"REMOVE_NOTE",id:t}}(e))}}})(Object(V.a)(G)),X=n(31),Z=n.n(X),K=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(h.a,{store:j},o.a.createElement(m.a,{basename:"/astrosat-notes"},o.a.createElement("div",{className:Z.a.app},o.a.createElement(p.a,null,o.a.createElement(v.a,{exact:!0,path:"/",component:Q}),o.a.createElement(v.a,{exact:!0,path:"/new",component:$}),o.a.createElement(v.a,{exact:!0,path:"/:id",component:q}),o.a.createElement(v.a,{exact:!0,path:"/:id/edit",component:z}),o.a.createElement(f.a,{to:"/"})))))}}]),e}(a.Component),Q=Object(h.b)(function(t){return{notes:t.notes}})(function(t){return 0===t.notes.length?$():o.a.createElement(W,{mode:"view",id:t.notes[0].id})}),$=function(){var t=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return o.a.createElement(W,{mode:"edit",id:t})},q=function(t){return o.a.createElement(W,{mode:"view",id:t.match.params.id})},z=function(t){return o.a.createElement(W,{mode:"edit",id:t.match.params.id})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.0c009c01.chunk.js.map