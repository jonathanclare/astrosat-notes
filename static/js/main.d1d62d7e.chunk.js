(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,n){t.exports={list:"NotesList_list__3-vpX",tag:"NotesList_tag__nGKBJ",tagSelected:"NotesList_tagSelected__1xmFJ",title:"NotesList_title__mX88b",date:"NotesList_date__1xsEZ"}},2:function(t,e,n){t.exports={main:"Note_main__2giOS",notesList:"Note_notesList__2sPct",notesListModal:"Note_notesListModal__ZFTUz",noteEditor:"Note_noteEditor__2ywwK",btnNotes:"Note_btnNotes__2FJrn",menu:"Note_menu__3SbA8",date:"Note_date__1uhkv",noteTitleContainer:"Note_noteTitleContainer__1Gm-p",noteContentContainer:"Note_noteContentContainer__1VcSO",noteContentContainerEditMode:"Note_noteContentContainerEditMode__1Hp9Z",title:"Note_title__NSW3N",content:"Note_content__1ynvP",btn:"Note_btn__1SZWs",btnNew:"Note_btnNew__S5C4E",btnAlert:"Note_btnAlert__apCUb"}},27:function(t,e,n){t.exports={box:"TextBox_box__2l3mD"}},28:function(t,e,n){t.exports={box:"TextArea_box__3BeXH"}},31:function(t,e,n){},33:function(t,e,n){t.exports=n(54)},38:function(t,e,n){},49:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(24),s=n.n(i),r=(n(38),n(7)),c=n(8),l=n(10),d=n(9),u=n(11),m=n(13),h=n(58),p=n(60),v=n(56),f=n(57),b=n(19),E=n(32),N=n(15),g=function(t,e,n){var a;return function(){var o=this,i=arguments,s=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||t.apply(o,i)},e||250),s&&t.apply(o,i)}},_=function(t,e){return new Date(e.date)-new Date(t.date)},O=function(t){var e=Object(E.a)({},t);return""===e.title&&(e.title="Add A Title"),e.date=(new Date).toISOString(),e},C=Object(N.b)({notes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_NOTES":return Object(b.a)(e.notes).sort(_);case"CLEAR_NOTES":return[];case"ADD_NOTE":return Object(b.a)(t).concat([O(e.note)]).sort(_);case"UPDATE_NOTE":return t.filter(function(t){return t.id===e.note.id}).length>0?t.map(function(t){return t.id===e.note.id?O(e.note):t}).sort(_):Object(b.a)(t).concat([O(e.note)]).sort(_);case"REMOVE_NOTE":return t.filter(function(t){return t.id!==e.id}).sort(_);default:return t}}}),y=function(t){try{var e=localStorage.getItem(t);if(null===e)return;return JSON.parse(e)}catch(n){return}}("astrosat-notes-app");console.log("PERSISTED STATE FROM LOCAL STORAGE:"),console.log(y);var S=Object(N.c)(C,y);S.subscribe(g(function(){console.log("SAVE STATE"),console.log(S.getState().notes),function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.log(n)}}("astrosat-notes-app",{notes:S.getState().notes})}));var j=S,w=n(4),T=n(27),k=n.n(T),x=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).state={value:void 0!==n.props.value?n.props.value:""},n.handleChange=n.handleChange.bind(Object(w.a)(Object(w.a)(n))),n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t,e){t.value!==this.props.value&&this.setState({value:this.props.value})}},{key:"handleChange",value:function(t){var e=this;this.setState({value:t.target.value},function(){return e.props.onChange(e.state.value)})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:k.a.box,type:"text",charSet:"utf-8",value:this.state.value,onChange:this.handleChange}))}}]),e}(a.Component),A=n(28),M=n.n(A),D=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).state={value:void 0!==n.props.value?n.props.value:""},n.handleChange=n.handleChange.bind(Object(w.a)(Object(w.a)(n))),n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t,e){t.value!==this.props.value&&this.setState({value:this.props.value})}},{key:"handleChange",value:function(t){var e=this;this.setState({value:t.target.value},function(){return e.props.onChange(e.state.value)})}},{key:"render",value:function(){return o.a.createElement("textarea",{className:M.a.box,charSet:"utf-8",value:this.state.value,onChange:this.handleChange})}}]),e}(a.Component),L=n(55),I=n(29),B=n.n(I),P=function(t){return B()(new Date(t).toISOString())},R=n(14),U=n.n(R),J=Object(m.b)(function(t){return{notes:t.notes}})(function(t){var e=t.notes.map(function(e){var n=e.id===t.selectedId?"".concat(U.a.tag," ").concat(U.a.tagSelected):"".concat(U.a.tag);return o.a.createElement(L.a,{key:e.id,className:n,to:"/".concat(e.id),title:"Click to view ".concat(e.title)},o.a.createElement("div",{className:U.a.title},e.title),o.a.createElement("div",{className:U.a.date},"Last Updated: ",P(e.date).fromNow()))});return e.length>0?o.a.createElement("div",{className:U.a.list},e):null}),F=n(59),W=function(t,e){return t.className+=" "+e},H=function(t,e){return t.className=t.className.replace(new RegExp("(?:^|\\s)"+e+"(?:\\s|$)")," ")},V=function(t,e){return(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1},Z=function(t,e,n){var a=e.split(" "),o=!0,i=!1,s=void 0;try{for(var r,c=a[Symbol.iterator]();!(o=(r=c.next()).done);o=!0){var l=r.value;t.addEventListener(l.trim(),n)}}catch(d){i=!0,s=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}},G=function(t,e,n){var a=e.split(" "),o=!0,i=!1,s=void 0;try{for(var r,c=a[Symbol.iterator]();!(o=(r=c.next()).done);o=!0){var l=r.value;t.removeEventListener(l.trim(),n)}}catch(d){i=!0,s=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}},X=function(){var t=document.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in e)if(void 0!==t.style[n])return e[n]},z=(n(49),function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).transitionEvent=X(),n.modal=o.a.createRef(),n.onClose=n.onClose.bind(Object(w.a)(Object(w.a)(n))),n.onOpen=n.onOpen.bind(Object(w.a)(Object(w.a)(n))),n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"onClose",value:function(t){if(V(t.target,"modal")){var e=this.modal.current;G(e,this.transitionEvent,this.onClose),W(t.target,"modal-hidden"),H(document.body,"hide-scrollbars"),void 0!==this.props.onClose&&this.props.onClose()}}},{key:"onOpen",value:function(t){if(V(t.target,"modal")){var e=this.modal.current;G(e,this.transitionEvent,this.onOpen),void 0!==this.props.onOpen&&this.props.onOpen()}}},{key:"close",value:function(t){if(V(t.target,"modal")||V(t.target,"modal-close")){void 0!==this.props.onClosing&&this.props.onClosing();var e=this.modal.current;Z(e,this.transitionEvent,this.onClose),H(e,"modal-active"),H(e.getElementsByClassName("modal-content")[0],"modal-content-active")}}},{key:"open",value:function(){void 0!==this.props.onOpening&&this.props.onOpening();var t=this.modal.current;Z(t,this.transitionEvent,this.onOpen),W(document.body,"hide-scrollbars"),H(t,"modal-hidden"),W(t,"modal-active"),W(t.getElementsByClassName("modal-content")[0],"modal-content-active")}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{ref:this.modal,className:"modal modal-hidden",onClick:function(e){return t.close(e)}},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},void 0!==this.props.title?o.a.createElement("span",{className:"modal-title"},this.props.title):null,o.a.createElement("span",{className:"modal-close"},"\xd7")),o.a.createElement("div",{className:"modal-body"},this.props.children)))}}]),e}(a.Component)),K=n(2),$=n.n(K),q=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).state={changesMade:!1,mode:t.mode?t.mode:"view",id:t.id,date:(new Date).toISOString(),title:"Add A Title",content:"Add Some Content"},n._modal=o.a.createRef(),n.onTitleChange=n.onTitleChange.bind(Object(w.a)(Object(w.a)(n))),n.onContentChange=n.onContentChange.bind(Object(w.a)(Object(w.a)(n))),n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.onNoteIdChange()}},{key:"componentDidUpdate",value:function(t,e){t.id!==this.props.id&&this.onNoteIdChange()}},{key:"onNoteIdChange",value:function(){var t=this,e={id:Math.floor(65536*(1+Math.random())).toString(16).substring(1),title:"Add A Title",content:"Add Some Content",date:(new Date).toISOString()},n=this.props.notes.filter(function(e){return e.id===t.props.id});n.length>0&&(e=n[0]),this.setState({id:e.id,title:e.title,content:e.content,date:e.date})}},{key:"onTitleChange",value:function(t){this.setState({changesMade:!0,title:t})}},{key:"onContentChange",value:function(t){this.setState({changesMade:!0,content:t})}},{key:"onSaveBtnPressed",value:function(){var t=this,e={id:this.state.id,title:this.state.title,content:this.state.content};this.setState({changesMade:!1},function(){return t.props.updateNote(e)})}},{key:"onDeleteBtnPressed",value:function(){!0===window.confirm("Are you sure you want to delete this note?")&&(this.props.removeNote(this.state.id),this.props.history.push("/"))}},{key:"openNotesListModal",value:function(){this._modal.current.open()}},{key:"render",value:function(){var t=this,e=!0===this.state.changesMade?"".concat($.a.btn," ").concat($.a.btnAlert):"".concat($.a.btn),n="edit"===this.props.mode?"".concat($.a.noteContentContainer," ").concat($.a.noteContentContainerEditMode):"".concat($.a.noteContentContainer);return o.a.createElement("div",{className:$.a.main},o.a.createElement("div",{className:$.a.notesList},o.a.createElement(J,{notes:this.props.notes,selectedId:this.state.id})),o.a.createElement("div",{className:$.a.noteEditor},o.a.createElement("div",{className:$.a.menu},o.a.createElement(L.a,{className:"".concat($.a.btn," ").concat($.a.btnNew),to:"/new",title:"Add A New Note"},o.a.createElement("i",{className:"fas fa-plus"}),"\xa0\xa0New Note"),"view"===this.props.mode?o.a.createElement(L.a,{className:$.a.btn,to:"/".concat(this.state.id,"/edit"),title:"Edit Note"},o.a.createElement("i",{className:"fas fa-edit"}),"\xa0\xa0Edit"):null,"view"===this.props.mode?o.a.createElement("div",{className:$.a.btn,onClick:function(){return t.onDeleteBtnPressed()},title:"Delete Note"},o.a.createElement("i",{className:"fas fa-trash"}),"\xa0\xa0Delete"):null,"edit"===this.props.mode?o.a.createElement("div",{className:e,onClick:function(){return t.onSaveBtnPressed()},title:"Save Note"},o.a.createElement("i",{className:"fas fa-save"}),"\xa0\xa0Save"):null,o.a.createElement("div",{className:"".concat($.a.btn," ").concat($.a.btnNotes),onClick:function(){return t.openNotesListModal()},title:"Open Notes List"},o.a.createElement("i",{className:"fas fa-bars"}))),o.a.createElement("div",{className:$.a.date},P(this.state.date).format("llll")),o.a.createElement("div",{className:$.a.noteTitleContainer},"edit"===this.props.mode?o.a.createElement(x,{onChange:this.onTitleChange,value:this.state.title}):o.a.createElement("div",{className:$.a.title,dangerouslySetInnerHTML:{__html:this.state.title}})),o.a.createElement("div",{className:n},"edit"===this.props.mode?o.a.createElement(D,{onChange:this.onContentChange,value:this.state.content}):o.a.createElement("div",{className:$.a.content,dangerouslySetInnerHTML:{__html:this.state.content}}))),o.a.createElement(z,{ref:this._modal},o.a.createElement("div",{className:$.a.notesListModal},o.a.createElement(J,{notes:this.props.notes,selectedId:this.state.id}))))}}]),e}(a.Component),Q=Object(m.b)(function(t){return{notes:t.notes}},function(t){return{addNote:function(e){return t(function(t){return{type:"ADD_NOTE",note:t}}(e))},updateNote:function(e){return t(function(t){return{type:"UPDATE_NOTE",note:t}}(e))},removeNote:function(e){return t(function(t){return{type:"REMOVE_NOTE",id:t}}(e))}}})(Object(F.a)(q)),Y=n(31),tt=n.n(Y),et=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(m.a,{store:j},o.a.createElement(h.a,{basename:"/astrosat-notes"},o.a.createElement("div",{className:tt.a.app},o.a.createElement(p.a,null,o.a.createElement(v.a,{exact:!0,path:"/",component:nt}),o.a.createElement(v.a,{exact:!0,path:"/new",component:at}),o.a.createElement(v.a,{exact:!0,path:"/:id",component:ot}),o.a.createElement(v.a,{exact:!0,path:"/:id/edit",component:it}),o.a.createElement(f.a,{to:"/"})))))}}]),e}(a.Component),nt=Object(m.b)(function(t){return{notes:t.notes}})(function(t){return 0===t.notes.length?at():o.a.createElement(Q,{mode:"view",id:t.notes[0].id})}),at=function(){var t=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return o.a.createElement(Q,{mode:"edit",id:t})},ot=function(t){return o.a.createElement(Q,{mode:"view",id:t.match.params.id})},it=function(t){return o.a.createElement(Q,{mode:"edit",id:t.match.params.id})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.d1d62d7e.chunk.js.map